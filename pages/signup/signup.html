<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>coffee shop </title>
   
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <link rel="stylesheet" 
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
   
        <link rel="stylesheet" href="../../assets/css/signup.css">
        <link rel="stylesheet" href="../../assets/css/header.css">
        <link rel="stylesheet" href="../../assets/css/footer.css ">
        <link href="https://fonts.googleapis.com/css2?family=Aclonica&family=Merienda:wght@300;400;500;600&family=Montserrat:wght@400;500&family=Poppins:ital,wght@0,100;0,300;0,400;1,100;1,200;1,300;1,400&family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet">
        <style>
          * { font-family: 'Aclonica', sans-serif;
font-family: 'Merienda', cursive;
font-family: 'Montserrat', sans-serif;
font-family: 'Poppins', sans-serif;
font-family: 'Quicksand', sans-serif;
        }

        </style>
    </head>
    <body>
     
<a href="../../assets/image/logo-transparent-png.png"></a>
        <section class="profile" id="profile">

            <h1 class="heading">
                <i class="fa-solid fa-circle-user"></i> Signup 
            </h1>
         
            <form role="form" onsubmit="signUP(event)">
                <input type="text" value="Riya" id="name" title="Use firstletter between (A-Z) and dont leave space in between" pattern="^[a-zA-Z][a-zA-Z0-9-_\.]{1,15}$" placeholder="Name" class="box" required="true">
            
                <input type="email" value="riya678@gmail.com"pattern="^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$" id="email" placeholder="Email-Id" class="box" required="true">

                <input type="password" value="asdA123!" id="password" title="Use (UpperCase, LowerCase, Number/SpecialChar and min 8 Chars)" placeholder="Password" pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$" placeholder="Password" class="box" required="true">

                <input type="password"value="asdA123!" id="confirm_password" title="Use (UpperCase, LowerCase, Number/SpecialChar and min 8 Chars)" placeholder="confirm Password" pattern="(?=^.{8,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$"placeholder="Confirm-password" class="box" required="true">
              
              
                <input pattern="[0-9]{10}" value="7845096138" type="tel" title="Please enter a valid 10 digit mobile number." id="mobilenumber" title="Enter 10 number only" placeholder="Mobile number" class="box" required="true">
                <div>
                <input type="checkbox" id="show-password" class="btn">
                <label for="show-password">show-password</label>
                </div>
                <button type="submit" class="btn"> Signup </button>
                <div>
                    <p class="sign">
                        If your are already a customer <a href="../../pages/login/login.html">Login</a>
                    </p>
                </div>
              
        
            </form>
        </section>
    
    </body>
        
    <script src="https://cdn.jsdelivr.net/npm/uuid@8.3.2/dist/umd/uuidv4.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/uuid@8.3.2/dist/umd/uuidv4.min.js"></script>
    <script>

const signUP = (e) => {
  e.preventDefault();
const user_name = document.getElementById("name").value.trim();
const user_email = document.getElementById("email").value.trim();
const user_password = document.getElementById("password").value;
const user_confirm_password=document.getElementById("confirm_password").value;
const user_mobile = document.getElementById("mobilenumber").value.trim();


  let a = JSON.parse(localStorage.getItem("user_list")) || [];
  let exist =
    a.length &&
    JSON.parse(localStorage.getItem("user_list")).some(
      (data) => data.user_email.toLowerCase() == user_email.toLowerCase()
    );
  if (!exist) {
    if (user_password == user_confirm_password) {
            const unique_id = uuidv4();
      a.push({
        user_name,
        user_email,
        user_password,
        user_confirm_password,
        user_mobile,
        unique_id,
      
      });
      localStorage.setItem("user_list", JSON.stringify(a));
      // console.log(localStorage.getItem('user_list'));
      document.querySelector("form").reset();
     
      alert("Account created Successfully");
      location.href = "../../pages/login/login.html";
    } else {
      alert("invalid password");
    }
  } else {
    alert("Sorry the User already Exist!! \n Try with different  email id");
  }
};

// Get references to the checkbox and password input field
const checkbox = document.getElementById('show-password');
const passwordField = document.getElementById('password');

// Add event listener to the checkbox
checkbox.addEventListener('change', function () {
  // Toggle the password visibility based on the checkbox state
  if (checkbox.checked) {
    passwordField.setAttribute('type', 'text');
  } else {
    passwordField.setAttribute('type', 'password');
  }
});
</script>
    <script src="../../pages/order/header.js"></script>
</html>