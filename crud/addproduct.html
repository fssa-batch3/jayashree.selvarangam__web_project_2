

    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="UTF-8">

      <title>Registration Form</title>
       <link rel="stylesheet" href="../assets/css/header.css">

      <link rel="stylesheet" href="../assets/css/footer.css"> 
      <link rel="stylesheet" href=" https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
     <style>
         * {
    box-sizing: border-box;
  }
  
  body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    margin: 0;
  }
  
  .container {
    max-width: 600px;
    margin: 20px auto;
    background-color: #fff;
    border-radius: 5px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    padding: 20px;
  }
  
  h2 {
    text-align: center;
    margin-bottom: 20px;
  }
  
  .form-group {
    margin-bottom: 20px;
  }
  
  label {
    display: block;
    margin-bottom: 5px;
  }
  
  input[type="text"],
  input[type="url"],
  input[type="number"],
  select,
  textarea {
    width: 100%;
    padding: 10px;
    font-size: 16px;
    border-radius: 5px;
    border: none;
    border: 1px solid #ccc;
    margin-top: 5px;
  }
  
  input[type="submit"] {
    background-color: #4CAF50;
    color: #fff;
    border: none;
    padding: 10px 20px;
    border-radius: 5px;
    cursor: pointer;
    font-size: 16px;
    margin-top: 20px;
  }
  
  input[type="submit"]:hover {
    background-color: #3e8e41;
  }
  
  select {
    height: 40px;
  }
  
  textarea {
    resize: vertical;
  }
  
  @media screen and (max-width: 768px) {
    .container {
      max-width: 100%;
    }
  }
  
     </style>
    </head>
    <body>
    
      <div class="container">
        <form>
          <h2>PRODUCT</h2>
          
          <div class="form-group">
            <label for="name">PRODUCT NAME:</label>
            <input type="text" name="name" id="name" required="true">
            <small id="123"></small>
          </div>
          
          <div class="form-group">
            <label for="category">CATEGORY:</label>
            <select name="category" id="category" required>
              <option value=" " disabled="disabled"> SELECT CATEGORY </option>
              <option value="ESPRESSO">ESPRESSO</option>
              <option value="FRAPPUCINO">FRAPPUCINO</option>
              <option value="BREWED COFFEE">BREWED COFFEE</option>
              <option value="TEA">TEA</option>
              <option value="COLD BREW">COLD BREW</option>
              <small></small>
             </select>
    </div>
    
    
          <div class="form-group">
            <label for="image_url">IMAGE URL:</label>
            <input type="url" name="image_url" id="image_url" required>
            <small></small>
          </div>
          
          <div class="form-group">
            <label for="description">DESCRIPTION:</label>
            <textarea type="text" name="description" id="description" rows="5" required></textarea>
            <small></small>
          </div>
          
          <div class="form-group">
            <label for="tall">Tall price:</label>
            <input type="number" name="tall" id="tall" required>
            <small></small>
          </div>
    
          <div class="form-group">
            <label for="quantity_value">tall_quantity_value in ml:</label>
            <input type="number" name="quantity_value" id="quantity_value_1"  required>
            <small></small>
          </div>
          
          <div class="form-group">
            <label for="quantity_value">tall_calorie_value_in_kcal:</label>
            <input type="number" name="quantity_value" id="calories_value_1" required>
            <small></small>
          </div>
    
          <div class="form-group">
            <label for="medium">medium price:</label>
            <input type="number" name="medium" id="medium" required>
            <small></small>
          </div>
    
          <div class="form-group">
            <label for="quantity_value">medium_quantity_value in ml:</label>
            <input type="number" name="quantity_value" id="quantity_value_2"  required>
            <small></small>
          </div>
          
          <div class="form-group">
            <label for="quantity_value">medium_calorie_value_in_kcal:</label>
            <input type="number" name="quantity_value" id="calories_value_2" required>
            <small></small>
          </div>
    
          <div class="form-group">
            <label for="short">short price:</label>
            <input type="number" name="shory" id="short" required>
            <small></small>
          </div>
    
          <div class="form-group">
            <label for="quantity_value">short_quantity_value in ml:</label>
            <input type="number" name="quantity_value" id="quantity_value_3"  required>
            <small></small>
          </div>
          
          <div class="form-group">
            <label for="quantity_value">short_calorie_value_in_kcal:</label>
            <input type="number" name="quantity_value" id="calories_value_3" required>
            <small></small>
          </div>
          
        
          
       
          
         
          <div class="col-lg-12 mt-5">
          <button class="btn btn-success" id="create">Add Data</button>
    
        </div>
    
            </form>
        </div> 
        <button class="btn btn-warning" id="update" style="display:none">update</button>
        <hr>
        <div class="row mt-5">
            <div class="col-12">
                <table class="table table-bordered">
                    <thead>
                        <td>Product_name</td>
                        <td>category</td>
                        <td>tall_Rs</td>
                        <td>short_Rs</td>
                        <td>medium_Rs</td>
                        <td>edit</td>
                        <td>delete</td>
                    </thead>
                    <tbody class="table_body"></tbody>
                    <!-- my method <tbody id="root"></tbody> -->
                </table>
            </div>
        </div>
    </div>
    </body>
    <script src="../pages/order/header.js"></script>
    <script>
       const addData = document.querySelector("#create");
       addData.addEventListener("click", submit1);
    
       function submit1(e) {
        e.preventDefault();

         const category = document.getElementById("category").value;
         // let category_description = document.getElementById("category_description").value;
         const name = document.getElementById("name").value;
         // let size_name = document.getElementById("size_name").value;
         const quantity_value1 = document.getElementById("quantity_value_1").value;
         // let quantity_unit = document.getElementById("quantity_unit").value;
         const calories_value1 = document.getElementById("calories_value_1").value;
         const quantity_value2 = document.getElementById("quantity_value_2").value;
         // let quantity_unit = document.getElementById("quantity_unit").value;
         const calories_value2 = document.getElementById("calories_value_2").value;
         const quantity_value3 = document.getElementById("quantity_value_3").value;
         // let quantity_unit = document.getElementById("quantity_unit").value;
         const calories_value3 = document.getElementById("calories_value_3").value;
         // let calories_unit = document.getElementById("calories_unit").value;
         const image_url = document.getElementById("image_url").value;
         const description = document.getElementById("description").value;
         // let cost = document.getElementById("cost").value;
         const tall = document.getElementById("tall").value;
         const short = document.getElementById("short").value;
         const medium = document.getElementById("medium").value;
         // // // // console.log(tall);
         const product_id = uuidv4();


        //  if(category==='' || category==='SELECT CATEGORY'){
        //   alert('select a category');
        //  }
        //  if(name===''){
        //   document.getElementById('123').innerText='enter a product'
        //  }
        //  if(quantity_value1 === null ||quantity_value1===0 &&quantity_value2 === null ||quantity_value2===0 &&quantity_value3 === null ||quantity_value3===0){
        //   alert('enter a valid quantity value');
        //  }
        //  if(calories_value1 === null ||calories_value1===0 &&calories_value2 === null ||calories_value2===0 &&calories_value3 === null ||calories_value3===0){
        //   alert('enter a valid quantity value');
        //  }
        //  if(image_url === null && image_url===''){
        //   alert('enter a valid image url');
        //  }
        //  if(description===null &&description==='' ){
        //   alert('enter a valid description')
        //  }
        //  if(tall === 0 || tall ==='' && medium === 0 || medium === '' && short === 0 || short === ''){
        //   alert('enter a valid cost')
        //  }

        //  <div class = "drop-down">
        //             <label for="semester">Semester</label>
        //             <select name="semester" class= "select" id="select">
        //                 <option value = "">Select</option>
        //                 <option value="1st">1st</option>
        //                 <option value="2nd">2nd</option>
        //                 <option value="3rd">3rd</option>
        //                 <option value="4th">4th</option>
        //                 <option value="5th">5th</option>
        //                 <option value="6th">6th</option>
        //                 <option value="7th">7th</option>
        //                 <option value="8th">8th</option>
        //             </select>
        //             <small></small>
        //         </div>       





let name1 =  document.getElementById('name')
const semesterValue = name1.value;

if(semesterValue === ''){
   setErrorForDropDown(name1,"Please add product name");
   }else{
   setSuccessForDropDown(name1);
 }
 
let category1 = document.getElementById('description');
const category_new = category1.value;

 if( category_new === ''){
   setErrorForDropDown(category1,"Please add description name");
   }else{
   setSuccessForDropDown(category1);
 }

function setErrorForDropDown(input,message){
   const formControl = input.parentElement;
   console.log(formControl)
   const small = formControl.querySelector('small');
   console.log(small)
   small.innerText = message;
   formControl.className = "drop-down error";   
 }
function setSuccessForDropDown(input){
   const formControl = input.parentElement;
   formControl.className = 'drop-down success';
 }  







         // let currency = document.getElementById("currency").value;
         // let offers = document.getElementById("offers").value;
    
      // addData(category,name,size_name,quantity_value,calories_value,description, cost);
         const product_detail_list_1 = JSON.parse(
           localStorage.getItem("product_detail_list")
      );
         const exist =
           product_detail_list_1.length &&
           JSON.parse(localStorage.getItem("product_detail_list")).some(
             (data) => data.name.toLowerCase() == name.toLowerCase()
           );
         if (!exist) {
           const product_detail = {
             category,
             // "category_description":category_description,
             // "description":description,
             name,
             quantities: {
               tall: {
                 name: "tall",
                 quantity: quantity_value1,
                 unit: "ml",
                 calories: calories_value1,
                 calories_unit: "kcal",
               },
               medium: {
                 name: "medium",
                 quantity: quantity_value2,
                 unit: "ml",
                 calories: calories_value2,
                 calories_unit: "kcal",
               },
               short: {
                 name: "short",
                 quantity: quantity_value3,
                 unit: "ml",
                 calories: calories_value3,
                 calories_unit: "kcal",
               },
             },
             image: {
               source: image_url,
               alt: "",
             },
    
             description,
    
             price_1: {
               tall,
               medium,
               short,
             },
             currency: "Rs.",
             product_id,
           };
           product_detail_list_1.push(product_detail);
           localStorage.setItem(
             "product_detail_list",
             JSON.stringify(product_detail_list_1)
           );
           location.reload();
         } else {
           alert("product already exists");
         }
    }
    const product_detail_list_1 = JSON.parse(
      localStorage.getItem("product_detail_list")
    );
    
       for (let i = 0; i < product_detail_list_1.length; i++) {
         const table_data = create(product_detail_list_1[i]);
         document.querySelector("tbody.table_body").append(tr);
       }
       function create(prod) {
         // tr
         tr = document.createElement("tr");
         // // // // console.log(tr);
         // td 1
         // td1 = document.createElement("td");
         // td1.innerText = ;
         // tr.append(td1);
         // td 2
         td2 = document.createElement("td");
         td2.innerText = prod.name;
         tr.append(td2);
         // td 3
         td3 = document.createElement("td");
         td3.innerText = prod.description;
         tr.append(td3);
    
         // td 4
         // td4 = document.createElement("td");
         // td4.innerText = prod["price"];
         // tr.append(td4);
         // td 5
         td5 = document.createElement("td");
         td5.innerText = prod.category;
         tr.append(td5);
         // a update
         // td11 = document.createElement("td");
         // td11.innerText = prod["quantities"]["name"];
         // tr.append(td11);
    
         // td12 = document.createElement("td");
         // td12.innerText = prod["quantities"]["quantity"];
         // tr.append(td12);
    
         // td13 = document.createElement("td");
         // td13.innerText = prod["quantities"]["calories"];
         // tr.append(td13);
    
         // a update
         td17 = document.createElement("td");
         td17.innerText = prod.price_1.tall;
         tr.append(td17);
    
         td15 = document.createElement("td");
         td15.innerText = prod.price_1.medium;
         tr.append(td15);
    
         td16 = document.createElement("td");
         td16.innerText = prod.price_1.short;
         tr.append(td16);
    
         td14 = document.createElement("td");
         td14.innerText = prod.image.source;
         tr.append(td14);
    
         td6 = document.createElement("td");
         tr.append(td6);
         // a update
         butup = document.createElement("button");
         butup.setAttribute("data-id", prod.product_id);
         butup.setAttribute("class", "edit");
         butup.innerText = "EDIT";
         td6.append(butup);
         // a delete
         td7 = document.createElement("td");
         tr.append(td7);
         // a delete
         butdel = document.createElement("button");
         butdel.setAttribute("class", "delete");
         butdel.setAttribute("data-uid", prod.product_id);
         butdel.innerText = "DELETE";
         td7.append(butdel);
       }
    
       // let unique_id=JSON.parse(localStorage.getItem())
       const edit = document.querySelectorAll(".edit");
       edit.forEach(function (findId) {
         findId.addEventListener("click", function () {
           const uniqueId = this.dataset.id;
           localStorage.setItem("product_id", JSON.stringify(uniqueId));
           const unique_id = JSON.parse(localStorage.getItem("product_id"));
           const product_detail_list = JSON.parse(
       localStorage.getItem("product_detail_list")
           );
           function findProduct(e) {
             return e.product_id == unique_id;
           }
           productData = product_detail_list.find(findProduct);
           console.log(productData);
    
           document.getElementById("name").value = productData.name;
           document.getElementById("category").value = productData.category;
           document.getElementById("description").value = productData.description;
           // document.getElementById("cost").value = productData["price"];
    
           // document.getElementById("size_name").value = productData["quantities"]["name"];
           document.getElementById("quantity_value_1").value =
             productData.quantities.tall.quantity;
           document.getElementById("calories_value_1").value =
             productData.quantities.tall.calories;
    
           document.getElementById("quantity_value_2").value =
             productData.quantities.medium.quantity;
           document.getElementById("calories_value_2").value =
             productData.quantities.medium.calories;
    
           document.getElementById("quantity_value_3").value =
             productData.quantities.short.quantity;
           document.getElementById("calories_value_3").value =
             productData.quantities.short.calories;
    
           document.getElementById("tall").value = productData.price_1.tall;
           document.getElementById("medium").value = productData.price_1.medium;
           document.getElementById("short").value = productData.price_1.short;
           document.getElementById("image_url").value = productData.image.source;
    
           document.querySelector("#update").setAttribute("style", "display:inline");
           document.querySelector("#create").setAttribute("style", "display:none");
      });
       });
    
       const update = document.querySelector("#update");
    
       update.addEventListener("click", update_product);
    
       function update_product() {
         const unique_id = JSON.parse(localStorage.getItem("product_id"));
         const product_detail_list = JSON.parse(
        localStorage.getItem("product_detail_list")
      );
         function findProduct(e) {
           return e.product_id == unique_id;
         }
         productData = product_detail_list.find(findProduct);
         // // // // // console.log(productData)
         const category = document.getElementById("category").value;
         // let category_description = document.getElementById("category_description").value;
         const name = document.getElementById("name").value;
         // let size_name = document.getElementById("size_name").value;
         const quantity_value1 = document.getElementById("quantity_value_1").value;
         // let quantity_unit = document.getElementById("quantity_unit").value;
         const calories_value1 = document.getElementById("calories_value_1").value;
         const quantity_value2 = document.getElementById("quantity_value_2").value;
         // let quantity_unit = document.getElementById("quantity_unit").value;
         const calories_value2 = document.getElementById("calories_value_2").value;
         const quantity_value3 = document.getElementById("quantity_value_3").value;
         // let quantity_unit = document.getElementById("quantity_unit").value;
         const calories_value3 = document.getElementById("calories_value_3").value;
         // let calories_unit = document.getElementById("calories_unit").value;
         const image_url = document.getElementById("image_url").value;
         const description = document.getElementById("description").value;
         // let cost = document.getElementById("cost").value;
         const tall = document.getElementById("tall").value;
         const short = document.getElementById("short").value;
         const medium = document.getElementById("medium").value;
    
      productData.name = name;
         productData.category = category;
         productData.description = description;
         // productData["price"] = cost;
         // productData["quantities"]["name"] = size_name;
         productData.quantities.tall.quantity = quantity_value1;
         productData.quantities.tall.calories = calories_value1;
         productData.quantities.medium.quantity = quantity_value2;
         productData.quantities.medium.calories = calories_value2;
         productData.quantities.short.quantity = quantity_value3;
         productData.quantities.short.calories = calories_value3;
         productData.price_1.tall = tall;
         productData.price_1.medium = short;
         productData.price_1.short = medium;
         productData.image.source = image_url;
    
         localStorage.setItem(
           "product_detail_list",
           JSON.stringify(product_detail_list)
      );
         location.reload();
       }
    
       const delete_product = document.querySelectorAll("button.delete");
       delete_product.forEach(function (findUid) {
         findUid.addEventListener("click", function () {
           const uniqueId = this.dataset.uid;
           localStorage.setItem("product_id", JSON.stringify(uniqueId));
           const unique_id = JSON.parse(localStorage.getItem("product_id"));
           const product_detail_list = JSON.parse(
             localStorage.getItem("product_detail_list")
           );
           function findProduct(e) {
             return e.product_id == unique_id;
           }
           productData = product_detail_list.find(findProduct);
    
           const indexOfUser = product_detail_list.indexOf(productData);
           product_detail_list.splice(indexOfUser, 1);
    
           // // // // console.log(indexOfUser);
           localStorage.setItem(
             "product_detail_list",
             JSON.stringify(product_detail_list)
           );
        location.reload();
         });
       });
      </script>
        <script src="https://cdn.jsdelivr.net/npm/uuid@8.3.2/dist/umd/uuidv4.min.js"></script>
    
    
    </html>